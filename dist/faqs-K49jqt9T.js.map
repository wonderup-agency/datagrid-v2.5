{"version":3,"file":"faqs-K49jqt9T.js","sources":["../src/components/faqs.js"],"sourcesContent":["import gsap from 'gsap'\n\n/**\n *\n * @param {HTMLElement} component\n */\nexport default function (component) {\n  component.querySelector('[role=\"list\"]').removeAttribute('role')\n  component.querySelectorAll('[role=\"listitem\"]').forEach((item) => {\n    item.removeAttribute('role')\n  })\n\n  const items = component.querySelectorAll('.w-dyn-item')\n\n  items.forEach((item, i) => {\n    const controls = item.querySelector('button')\n    const panel = item.querySelector(\"[role='region']\")\n\n    controls.setAttribute('id', `accordion${i}`)\n    controls.setAttribute('aria-controls', `panel${i}`)\n    panel.setAttribute('aria-labelledby', `accordion${i}`)\n    panel.setAttribute('id', `panel${i}`)\n\n    a11yToggle(controls, panel, false)\n\n    controls.addEventListener('click', () => handleTrigger(controls, panel))\n  })\n}\n\nfunction handleTrigger(controls, panel) {\n  if (panel.scrollHeight === 0) {\n    a11yToggle(controls, panel, true)\n    const height = panel.scrollHeight\n    gsap.to(panel, {\n      duration: 0.3,\n      height: panel.scrollHeight,\n      ease: 'power2.inOut',\n    })\n  } else {\n    gsap.to(panel, {\n      duration: 0.3,\n      height: 0,\n      ease: 'power2.inOut',\n      onComplete: () => a11yToggle(controls, panel, false),\n    })\n  }\n}\n\nfunction a11yToggle(controls, panel, open) {\n  controls.setAttribute('aria-expanded', open)\n  panel.toggleAttribute('hidden', !open)\n}\n"],"names":["faqs","component","querySelector","removeAttribute","querySelectorAll","forEach","item","i","controls","panel","setAttribute","a11yToggle","addEventListener","scrollHeight","gsap","to","duration","height","ease","onComplete","handleTrigger","open","toggleAttribute"],"mappings":"wCAMe,SAAAA,EAAUC,GACvBA,EAAUC,cAAc,iBAAiBC,gBAAgB,QACzDF,EAAUG,iBAAiB,qBAAqBC,QAASC,IACvDA,EAAKH,gBAAgB,UAGTF,EAAUG,iBAAiB,eAEnCC,QAAQ,CAACC,EAAMC,KACnB,MAAMC,EAAWF,EAAKJ,cAAc,UAC9BO,EAAQH,EAAKJ,cAAc,mBAEjCM,EAASE,aAAa,KAAM,YAAYH,KACxCC,EAASE,aAAa,gBAAiB,QAAQH,KAC/CE,EAAMC,aAAa,kBAAmB,YAAYH,KAClDE,EAAMC,aAAa,KAAM,QAAQH,KAEjCI,EAAWH,EAAUC,GAAO,GAE5BD,EAASI,iBAAiB,QAAS,IAIvC,SAAuBJ,EAAUC,GACJ,IAAvBA,EAAMI,cACRF,EAAWH,EAAUC,GAAO,GACbA,EAAMI,aACrBC,EAAKC,GAAGN,EAAO,CACbO,SAAU,GACVC,OAAQR,EAAMI,aACdK,KAAM,kBAGRJ,EAAKC,GAAGN,EAAO,CACbO,SAAU,GACVC,OAAQ,EACRC,KAAM,eACNC,WAAY,IAAMR,EAAWH,EAAUC,GAAO,IAGpD,CArB6CW,CAAcZ,EAAUC,KAErE,CAqBA,SAASE,EAAWH,EAAUC,EAAOY,GACnCb,EAASE,aAAa,gBAAiBW,GACvCZ,EAAMa,gBAAgB,UAAWD,EACnC"}