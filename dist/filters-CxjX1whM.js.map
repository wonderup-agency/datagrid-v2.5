{"version":3,"file":"filters-CxjX1whM.js","sources":["../src/components/filters.js"],"sourcesContent":["/**\n *\n * @param {HTMLElement} component\n */\nexport default function (component) {\n  const filtersMenuButton = component.querySelector(\n    \"[data-filters='menu-button']\"\n  )\n  const filtersMenu = component.querySelector(\"[data-filters='menu']\")\n\n  if (!filtersMenuButton || !filtersMenu) return\n\n  filtersMenuButton.addEventListener('click', (e) => {\n    const isExpanded =\n      filtersMenuButton.getAttribute('aria-expanded') === 'true'\n    if (isExpanded) closeMenu()\n    else openMenu()\n  })\n\n  function openMenu() {\n    filtersMenuButton.setAttribute('aria-expanded', 'true')\n    filtersMenu.setAttribute('aria-hidden', 'false')\n    filtersMenu.removeAttribute('hidden')\n\n    const firstFocusable = filtersMenu.querySelector('input')\n    if (firstFocusable) firstFocusable.focus()\n\n    document.addEventListener('click', handleOutsideClick)\n  }\n\n  function closeMenu() {\n    filtersMenuButton.setAttribute('aria-expanded', 'false')\n    filtersMenu.setAttribute('aria-hidden', 'true')\n    filtersMenu.setAttribute('hidden', 'true')\n\n    document.removeEventListener('click', handleOutsideClick)\n  }\n\n  function handleOutsideClick(e) {\n    const target = e.target\n    if (\n      (!filtersMenu.contains(target) && !filtersMenuButton.contains(target)) ||\n      target == filtersMenu.querySelector('[fs-list-element=\"clear\"]') ||\n      target.nodeName == 'INPUT'\n    )\n      closeMenu()\n  }\n}\n"],"names":["filters","component","filtersMenuButton","querySelector","filtersMenu","closeMenu","setAttribute","document","removeEventListener","handleOutsideClick","e","target","contains","nodeName","addEventListener","getAttribute","removeAttribute","firstFocusable","focus","openMenu"],"mappings":"AAIe,SAAAA,EAAUC,GACvB,MAAMC,EAAoBD,EAAUE,cAClC,gCAEIC,EAAcH,EAAUE,cAAc,yBAsB5C,SAASE,IACPH,EAAkBI,aAAa,gBAAiB,SAChDF,EAAYE,aAAa,cAAe,QACxCF,EAAYE,aAAa,SAAU,QAEnCC,SAASC,oBAAoB,QAASC,EACxC,CAEA,SAASA,EAAmBC,GAC1B,MAAMC,EAASD,EAAEC,QAEbP,EAAYQ,SAASD,IAAYT,EAAkBU,SAASD,KAC9DA,GAAUP,EAAYD,cAAc,8BACjB,SAAnBQ,EAAOE,UAEPR,GACJ,CApCKH,GAAsBE,GAE3BF,EAAkBY,iBAAiB,QAAUJ,IAEW,SAApDR,EAAkBa,aAAa,iBACjBV,IAIlB,WACEH,EAAkBI,aAAa,gBAAiB,QAChDF,EAAYE,aAAa,cAAe,SACxCF,EAAYY,gBAAgB,UAE5B,MAAMC,EAAiBb,EAAYD,cAAc,SAC7Cc,GAAgBA,EAAeC,QAEnCX,SAASO,iBAAiB,QAASL,EACrC,CAZOU,IA+BT"}