{"version":3,"file":"navbar-_zoN_xi4.js","sources":["../src/components/navbar.js"],"sourcesContent":["import gsap from 'gsap'\n\n/**\n *\n * @param {HTMLElement} component\n */\nexport default function (component) {\n  const menuButton = component.querySelector(\"[data-navbar='menu-button']\")\n  menuButton.addEventListener('click', toggleScroll)\n\n  let overlay\n  const overlayInterval = setInterval(() => {\n    overlay = component.querySelector('.w-nav-overlay')\n    if (overlay) {\n      clearInterval(overlayInterval)\n      overlay.addEventListener('click', toggleScroll)\n    }\n  }, 100)\n\n  function toggleScroll() {\n    document.body.style.overflow = document.body.style.overflow === 'hidden' ? 'auto' : 'hidden'\n  }\n\n  if (window.scrollY > 0) {\n    component.classList.add('is-scrolled')\n  }\n  window.addEventListener('scroll', () => {\n    component.classList.toggle('is-scrolled', window.scrollY > 0)\n  })\n\n  /* ---------------- Banner logic ---------------- */\n\n  const BANNER_KEY = 'navbarBannerClosed'\n  const RESET_MS = 60 * 60 * 1000 // 1 hour\n\n  const banner = component.querySelector(\"[data-navbar='banner']\")\n  if (!banner) return\n\n  const closeButton = banner.querySelector(\"[data-navbar='close-banner']\")\n\n  function isBannerClosed() {\n    const raw = localStorage.getItem(BANNER_KEY)\n    if (!raw) return false\n    try {\n      const { ts } = JSON.parse(raw)\n      return Date.now() - ts < RESET_MS\n    } catch {\n      return false\n    }\n  }\n\n  function setBannerClosed() {\n    localStorage.setItem(BANNER_KEY, JSON.stringify({ ts: Date.now() }))\n  }\n\n  function removeBanner() {\n    banner.remove()\n  }\n\n  if (isBannerClosed()) {\n    removeBanner()\n    return\n  }\n\n  // show banner\n  gsap.set(banner, { autoAlpha: 0 })\n  banner.style.visibility = 'visible'\n  gsap.to(banner, {\n    autoAlpha: 1,\n    duration: 0.25,\n    ease: 'power1.out',\n  })\n\n  closeButton.addEventListener('click', () => {\n    setBannerClosed()\n    gsap.to(banner, {\n      autoAlpha: 0,\n      duration: 0.2,\n      ease: 'power1.in',\n      onComplete: removeBanner,\n    })\n  })\n}\n"],"names":["navbar","component","overlay","querySelector","addEventListener","toggleScroll","overlayInterval","setInterval","clearInterval","document","body","style","overflow","window","scrollY","classList","add","toggle","BANNER_KEY","banner","closeButton","removeBanner","remove","raw","localStorage","getItem","ts","JSON","parse","Date","now","isBannerClosed","gsap","set","autoAlpha","visibility","to","duration","ease","setItem","stringify","onComplete"],"mappings":"wCAMe,SAAAA,EAAUC,GAIvB,IAAIC,EAHeD,EAAUE,cAAc,+BAChCC,iBAAiB,QAASC,GAGrC,MAAMC,EAAkBC,YAAY,KAClCL,EAAUD,EAAUE,cAAc,kBAC9BD,IACFM,cAAcF,GACdJ,EAAQE,iBAAiB,QAASC,KAEnC,KAEH,SAASA,IACPI,SAASC,KAAKC,MAAMC,SAA4C,WAAjCH,SAASC,KAAKC,MAAMC,SAAwB,OAAS,QACtF,CAEIC,OAAOC,QAAU,GACnBb,EAAUc,UAAUC,IAAI,eAE1BH,OAAOT,iBAAiB,SAAU,KAChCH,EAAUc,UAAUE,OAAO,cAAeJ,OAAOC,QAAU,KAK7D,MAAMI,EAAa,qBAGbC,EAASlB,EAAUE,cAAc,0BACvC,IAAKgB,EAAQ,OAEb,MAAMC,EAAcD,EAAOhB,cAAc,gCAiBzC,SAASkB,IACPF,EAAOG,QACT,EAjBA,WACE,MAAMC,EAAMC,aAAaC,QAAQP,GACjC,IAAKK,EAAK,OAAO,EACjB,IACE,MAAMG,GAAEA,GAAOC,KAAKC,MAAML,GAC1B,OAAOM,KAAKC,MAAQJ,EAZP,IAaf,CAAE,MACA,OAAO,CACT,CACF,CAUIK,IAMJC,EAAKC,IAAId,EAAQ,CAAEe,UAAW,IAC9Bf,EAAOR,MAAMwB,WAAa,UAC1BH,EAAKI,GAAGjB,EAAQ,CACde,UAAW,EACXG,SAAU,IACVC,KAAM,eAGRlB,EAAYhB,iBAAiB,QAAS,KArBpCoB,aAAae,QAAQrB,EAAYS,KAAKa,UAAU,CAAEd,GAAIG,KAAKC,SAuB3DE,EAAKI,GAAGjB,EAAQ,CACde,UAAW,EACXG,SAAU,GACVC,KAAM,YACNG,WAAYpB,OAnBdA,GAsBJ"}